{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","services/fetchService.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.js","components/Button/Button.jsx","helpers/Scroll.jsx","components/Modal/Modal.jsx","img/man.jpg","components/ImageError/ImageError.jsx","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","MY_API_KEY","getPictures","query","a","page","axios","get","hits","data","defaults","baseURL","Searchbar","state","searchQuery","images","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","this","className","s","SearchForm","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","onChange","autoFocus","placeholder","Component","ImageGalleryItem","image","openModal","onClick","src","webformatURL","alt","tag","imageGalleryItem__image","ImageGallery","onOpenModal","imageGallery","map","imageGalleryItem","id","Loader","LoaderContainer","color","height","width","timeout","Button","onScroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","createPortal","overlay","modal","children","NoFoundImage","role","lonely","App","loading","showModal","searchImage","then","prevState","handleSearchSubmit","toggleModal","onClickLargeImage","largeImage","handleLoadMoreClick","Scroll","catch","err","console","log","finally","prevProps","length","largeImageURL","newestOnTop","rtl","pauseOnFocusLoss","PureComponent","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8ddbb870.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__1I2ZW\",\"imageGallery\":\"ImageGallery_imageGallery__mDwFZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__B1Xay\",\"modal\":\"Modal_modal__35upx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem__image\":\"ImageGalleryItem_imageGalleryItem__image__5P_ai\",\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__nJPc-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderContainer\":\"Loader_LoaderContainer__zPYYs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2tpmi\"};","import axios from 'axios';\r\n\r\nconst MY_API_KEY = '23063121-c7c43e31505ed95884d92e826';\r\n\r\naxios.defaults.baseURL =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\r\n\r\nexport async function getPictures(query, page = 1) {\r\n  const {\r\n    data: { hits },\r\n  } = await axios.get(`&q=${query}&page=${page}&per_page=12&key=${MY_API_KEY}`);\r\n\r\n  return hits;\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    images: [],\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.searchQuery.trim() === '') {\r\n      toast.error('Search images and photos', {\r\n        position: 'top-center',\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    if (this.state.searchQuery === 'error') {\r\n      toast.error('No match...', {\r\n        position: 'top-center',\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm__button}>\r\n              <span className={s.SearchForm__buttonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchForm__input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              value={searchQuery}\r\n              onChange={this.handleChange}\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n};\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ image, openModal }) => {\r\n  return (\r\n    <>\r\n      <img\r\n        onClick={() => {\r\n          openModal(image);\r\n        }}\r\n        src={image.webformatURL}\r\n        alt={image.tag}\r\n        className={s.imageGalleryItem__image}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object,\r\n  openModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images = [], onOpenModal }) {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {images.map(image => (\r\n        <li className={s.imageGalleryItem} key={image.id}>\r\n          <ImageGalleryItem image={image} openModal={onOpenModal} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape),\r\n  onOpenModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Component from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={s.LoaderContainer}>\r\n      <Component\r\n        type=\"Hearts\"\r\n        color=\"#00BFFF\"\r\n        height={80}\r\n        width={80}\r\n        timeout={300}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={onClick} className={s.Button}>\r\n        Load More...\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","const onScroll = () => {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nexport default onScroll;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/man.cc751b0c.jpg\";","import lonely from '../../img/man.jpg';\r\n\r\nconst NoFoundImage = () => {\r\n  return (\r\n    <div role=\"alert\">\r\n      <img src={lonely} width=\"400\" alt=\"lonely-man\" />\r\n      <p>No match...</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoFoundImage;\r\n","import { PureComponent } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { getPictures } from '../../services/fetchService';\n\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Loader from '../Loader';\nimport Button from '../Button';\nimport Scroll from '../../helpers/Scroll';\nimport Modal from '../Modal';\nimport NoFoundImage from '../ImageError/ImageError';\n\nimport './App.css';\n\nclass App extends PureComponent {\n  state = {\n    page: 1,\n    images: [],\n    searchQuery: '',\n    loading: false,\n    showModal: false,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n    if (searchQuery !== prevState.searchQuery) {\n      this.searchImage()\n        .catch(err => console.log(err))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n  searchImage = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n\n    return getPictures(searchQuery, page).then(images => {\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        page: prevState.page + 1,\n      }));\n    });\n  };\n\n  handleSearchSubmit = searchQuery => {\n    this.setState({ searchQuery, page: 1, images: [] });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onClickLargeImage = largeImage => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  handleLoadMoreClick = () => {\n    this.setState({ loading: true });\n    this.searchImage()\n      .then(() => {\n        Scroll();\n      })\n      .catch(err => console.log(err))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  render() {\n    const { images, largeImage, showModal, loading, searchQuery } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n\n        {loading && <Loader />}\n        {images.length !== 0 ? (\n          <ImageGallery images={images} onOpenModal={this.onClickLargeImage} />\n        ) : (\n          searchQuery !== '' && <NoFoundImage />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img\n              src={largeImage.largeImageURL}\n              alt={largeImage.tag}\n              id={largeImage.id}\n            />\n            <button type=\"button\" onClick={this.toggleModal}>\n              Close\n            </button>\n          </Modal>\n        )}\n        {!loading && images[0] && <Button onClick={this.handleLoadMoreClick} />}\n        <ToastContainer\n          autoClose={2000}\n          position=\"top-center\"\n          hideProgressBar\n          newestOnTop={true}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__EvRA1\",\"SearchForm\":\"Searchbar_SearchForm__tTdan\",\"SearchForm__button\":\"Searchbar_SearchForm__button__286PY\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__2ps3t\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1Rfod\"};"],"sourceRoot":""}